import akshare as ak
import requests
import warnings

warnings.filterwarnings("ignore")

'''
新浪接口被禁止
'''
base_url = " http://hq.sinajs.cn/list="
def get_info(codelist):
    print("codelist ==>",codelist)



    # 使用逗号作为分隔符将列表转换为字符串
    # codes = ', '.join(str(item) for item in codelist)
    # codelist
    # url = base_url + codelist
    # print(url)
    #
    # response = requests.post(url)
    #
    # print(response)

    '''
    没有指定接口的数据让拿到
    '''
    #使用ak_share
    # ak.stock_zh_a_spot_em

    '''
    全量 - 匹配适合自己的？
    '''
    # 将字符串转换为列表，如果codelist最初是字符串形式的话
    # codelist = codelist.split(',')

    aa = ak.stock_zh_a_spot_em()
    aa.to_csv("./aaa.csv")
    need_col = ['代码', '名称', '涨跌幅', '量比', '5分钟涨跌', '涨速']
    df = aa[need_col]
    # df = df[(df['涨跌幅'] > 9) & (df['涨跌幅'] < 11)]
    # print(df)

    # 重命名
    # df.rename(columns={'代码': 'code', '名称': 'name', '涨跌幅': 'changepercent'}, inplace=True)
    df = df[(df['代码'].isin(codelist))]

    return df

# get_info("600706,001324")


list_zixuangu = [
'000712',	
'601901',	
'600999',	
'600155',	
'601788',	
'601099',	
'603220',	
'601136',	
'002797',	
'601066',	
'600030',	
'603629',	
'603985',	
'002929',	
'002654',	
'002230',	
'600895',	
'002850',	
'603728',	
'002050',	
'002979',	
'002535',	
'001238',	
'002413',	
'000570',	
'600006',	
'002976',	
'688981',	
'002371',	
'688035',	
'002920',	
'301221',	
'300418',	
'603108',	
'300378',	
'600552',	
'002845',	
'688535',	
'688362',	
'600100',	
'603005',	
'002185',	
'600584',	
'002156',	
'002077',	
'603501',	
'002284',	
'300496',	
'600699',	
'000676',	
'603533',	
'002605',	
'603721',	
'605577',	
'300291',	
'300063',	
'002292',	
'002343',	
'000917',	
'605086',	
'300539',	
'603650',	
'603567',	
'002020',	
'603958',	
'002505',	
'301091',	
'600119',	
'002640',	
'000899',	
'003021',	
'002689',	
'605588',	
'002189',	
'600105',	
'600520',	
'000670',	
'603516',	
'601456',	
'000922',	
'603380',	
'605117',	
'603298',	
'600129',	
'300445',	
'605277',	
'301456',	
'002579',	
'002241',	
'688322',	
'300007',	
'300032',	
'300364',	
'300337',	
'300058',	
'002786',	
'300133',	
'605319',	
'002558',	
'600665',	
'600469',	
'603982',	
'605068',	
'002454',	
'002201',	
'003020',	
'603048',	
'603322',	
'001380',	
'002577',	
'002213',	
'600353',	
'002712',	
'601019',	
'600060',	
'002254',	
'603638',	
'603786',	
'603757',	
'002368',	
'603171',	
'605168',	
'000736',	
'600528',	
'001872',	
'002767',	
'002448',	
'603088',	
'001323',	
'002215',	
'603353',	
'603000',	
'002762',	
'002234',	
'600715',	
'002615',	
'003025',	
'603355',	
'002369',	
'600498',	
'002864',	
'601595',	
'002555',	
'600081',	
'600633',	
'601872',	
'600149',	
'002422',	
'600271',	
'002003',	
'000498',	
'002531',	
'002526',	
'601838',	
'603077',	
'002035',	
'600276',	
'002726',	
'600620',	
'600116',	
'000552',	
'601077',	
'002521',	
'002266',	
'002134',	
'000759',	
'603698',	
'000090',	
'002148',	
'603579',	
'603833',	
'600655',	
'002480',	
'000831',	
'000777',	
'600882',	
'002410',	
'000860',	
'600467',	
'000858',	
'003003',	
'601689',	
'002646',	
'000568',	
'600570',	
'601799',	
'002600',	
'605167',	
'603279',	
'603306',	
'002197',	
'000807',	
'002044',	
'603208',	
'002675',	
'600779',	
'603052',	
'600754',	
'600131',	
'600026',	
'600610',	
'002356',	
'002810',	
'000892',	
'002905',	
'600619',	
'002137',	
'603388',	
'605111',	
'600186',	
'601899',	
'001300',	
'000989',	
'002229',	
'600621',	
'002519',	
'600869',	
'603606',	
'603611',	
'603988',	
'603408',	
'603556',	
'002916',	
'002315',	
'603738',	
'002847',	
'600657',	
'600879',	
'000890',	
'603358',	
'002458',	
'603239',	
'600363',	
'603256',	
'000657',	
'603677',	
'600519',	
'002903',	
'002799',	
'300936',	
'002420',	
'301128',	
'605005',	
'002863',	
'301529',	
'002765',	
'301331',	
'688433',	
'603026',	
'003010',	
'002208',	
'603990',	
'002965',	
'600322',	
'003026',	
'603019',	
'603170',	
'002919',	
'002295',	
'002727',	
'605266',	
'002738',	
'603779',	
'002708',	
'600622',	
'002941',	
'600257',	
'603983',	
'002536',	
'000829',	
'002946',	
'605007',	
'000550',	
'000800',	
'002602',	
'600733',	
'002345',	
'002106',	
'300604',	
'002426',	
'603912',	
'002952',	
'002748',	
'002557',	
'002068',	
'002791',	
'002384',	
'603605',	
'600645',	
'002336',	
'002707',	
'001896',	
'603130',	
'300269',	
'002162',	
'000838',	
'600641',	
'002596',	
'600189',	
'603238',	
'605288',	
'600792',	
'002790',	
'600675',	
'600846',	
'002322',	
'603636',	
'603859',	
'003007',	
'605376',	
'000762',	
'603282',	
'000715',	
'603890',	
'002045',	
'000682',	
'002812',	
'002962',	
'002484',	
'002436',	
'002757',	
'000638',	
'600501',	
'600435',	
'002755',	
'002940',	
'603332',	
'600423',	
'601198',	
'600958'




]


list_ruozhuanqiang = [
'002602',
'002931',
'603633',
'603322',
'002235',
'603061',
'600006',
'601188',
'002042',
'002750',
'002796',
'300985',
'603158',
'600776',
'603131',
'300604',
'600326',
'603196',
'002729',
'603003',
'000010',
'000410'
        


]




def get_zixuangu_df():
    aa = ak.stock_zh_a_spot_em()
    # aa.to_csv("./aaa.csv")
    need_col = ['代码', '名称', '涨跌幅', '量比', '5分钟涨跌', '涨速']
    df = aa[need_col]
    # df = df[(df['涨跌幅'] > 9) & (df['涨跌幅'] < 11)]
    # print(df)

    # 重命名
    # df.rename(columns={'代码': 'code', '名称': 'name', '涨跌幅': 'changepercent'}, inplace=True)
    df = df[(df['代码'].isin(list_zixuangu))]

    print(df)
    return df


def get_ruozhuanqiang_df():
    aa = ak.stock_zh_a_spot_em()
    need_col = ['代码', '名称', '涨跌幅', '量比', '5分钟涨跌', '涨速']
    df = aa[need_col]
    df = df[(df['代码'].isin(list_ruozhuanqiang))]

    print(df)
    return df


list_T = [
    '605118',	
'605108',	
'603936',	
'603909',	
'603879',	
'603595',	
'301359',	
'603200',	
'601360',	
'601336',	
'601138',	
'601012',	
'600903',	
'600887',	
'600884',	
'600778',	
'600689',	
'600581',	
'600536',	
'600468',	
'600360',	
'600280',	
'600212',	
'003015',	
'002975',	
'002897',	
'002861',	
'002542',	
'002531',	
'002528',	
'002084',	
'002049',	
'001368',	
'001338',	
'001270',	
'000821',	
'000721',	
'000705',	
'000656',	
'000652',	
'000572',	
'000422',	
'000032',	
'600048',	
'002918',	
'600801',	
'601236',	
'001227',	
'002193',	
'002142',	
'002385',	
'601888',	
'002561',	
'002145',	
'000957',	
'002594',	
'002547',	
'002186',	
'001256',	
'002487',	
'603616'

]

no_notify_list=[


]

def get_T():
    aa = ak.stock_zh_a_spot_em()
    need_col = ['代码', '名称', '涨跌幅', '量比', '涨速']
    df = aa[need_col]
    df = df[(df['代码'].isin(list_T))]
    # print(df)
    df.rename(columns={'代码': 'code','名称':'股票简称'}, inplace=True)

    return df



def get_zixuanguAsCode_df():
    aa = ak.stock_zh_a_spot_em()
    # aa.to_csv("./aaa.csv")
    need_col = ['代码', '名称', '涨跌幅', '量比', '5分钟涨跌', '涨速']
    df = aa[need_col]
    # df = df[(df['涨跌幅'] > 9) & (df['涨跌幅'] < 11)]
    # print(df)

    # 重命名
    # df.rename(columns={'代码': 'code', '名称': 'name', '涨跌幅': 'changepercent'}, inplace=True)
    df = df[(df['代码'].isin(list_zixuangu))]
    df.rename(columns={'代码': 'code', '名称': '股票简称'}, inplace=True)
    # print(df)
    return df



def get_no_notify_list():
    return no_notify_list



